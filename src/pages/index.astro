---
import BaseLayout from '../layouts/BaseLayout.astro';
import HeroBanner from '../components/HeroBanner.astro';
import AboutSection from '../components/AboutSection.astro';
import GallerySection from '../components/GallerySection.astro';

const galleryItems = [
  // 7 imágenes para el layout de 1 + 2 + 2 + 2
  { src: '/cake_main.jpeg', alt: 'Pastel alto con flores' },
  { src: '/cake_2.jpeg', alt: 'Pastel de chocolate' },
  { src: '/cake_3.jpeg', alt: 'Pastel red velvet' },
  { src: '/cake_4.jpeg', alt: 'Pastel de zanahoria' },
  { src: '/cake_5.jpeg', alt: 'Pay de limón' },
  { src: '/cake_6.jpg', alt: 'Cheesecake' },
];

const lineProducts = [
  { name: 'Pastel de vainilla con frambuesa', price: '$650 MXN' },
  { name: 'Pastel de chocolate y café', price: '$680 MXN' },
  { name: 'Pastel de limón y amapola', price: '$620 MXN' },
  { name: 'Pastel red velvet clásico', price: '$690 MXN' },
  { name: 'Pastel de coco tostado', price: '$640 MXN' },
  { name: 'Pastel de pistache y miel', price: '$720 MXN' },
];
---
<BaseLayout>
  <GallerySection items={galleryItems} />

  <section id="tienda" class="products">
    <div class="section-heading">
      <span class="section-label">Pasteles de Línea</span>
      <h2>Listos para ordenar</h2>
      <p>Selecciona tu favorito y coordina la entrega a través de WhatsApp.</p>
    </div>
    <div class="product-grid">
      {lineProducts.map(({ name, price }) => (
        <article class="product-card">
          <div class="product-image" aria-hidden="true"></div>
          <div class="product-info">
            <h3>{name}</h3>
            <p class="product-price">{price}</p>
            <a class="product-action" href="mailto:hola@breadnsugar.mx">Añadir</a>
          </div>
        </article>
      ))}
    </div>
  </section>

  <section id="personalizados" class="custom-orders">
    <div class="section-heading">
      <span class="section-label">Pasteles Personalizados</span>
      <h2>Cuéntanos sobre tu evento</h2>
      <p>Completa el formulario y nos pondremos en contacto contigo en menos de 24 horas.</p>
    </div>
    <form class="custom-form">
      <fieldset>
        <legend>Datos del cliente</legend>
        <label>
          Nombre completo
          <input type="text" name="nombre" placeholder="María González" required />
        </label>
        <label>
          Correo electrónico
          <input type="email" name="correo" placeholder="hola@correo.com" required />
        </label>
        <label>
          Teléfono / WhatsApp
          <input type="tel" name="telefono" placeholder="55 1234 5678" required />
        </label>
      </fieldset>

      <fieldset class="inline-fields">
        <label>
          Fecha del evento
          <input type="date" name="fecha" required />
        </label>
        <label>
          Número de personas
          <input type="number" name="personas" min="0" placeholder="20" required />
        </label>
        <label>
          Tipo de evento
          <input type="text" name="evento" placeholder="Boda, cumpleaños..." />
        </label>
      </fieldset>

      <label>
        Enlace de referencia (Pinterest, Instagram...)
        <input type="url" name="referencia" placeholder="https://" />
      </label>

      <label>
        Descripción del pastel
        <textarea name="descripcion" rows="4" placeholder="Colores, sabores, estilo..." required></textarea>
      </label>

      <div class="upload-area" role="button" tabindex="0">
        <span>Arrastra tus referencias aquí o haz clic para subir archivos</span>
      </div>

      <button class="btn btn-primary" type="submit">Enviar solicitud</button>
    </form>
  </section>

  <section id="contacto" class="contact">
    <div class="section-heading">
      <span class="section-label">Contacto</span>
      <h2>Estamos cerca de ti</h2>
    </div>
    <div class="contact-content">
      <div class="contact-info">
        <p><strong>Dirección:</strong> Col. Roma Norte, CDMX</p>
        <p><strong>WhatsApp:</strong> <a href="https://wa.me/5215512345678" target="_blank" rel="noreferrer">55 1234 5678</a></p>
        <p><strong>Instagram:</strong> <a href="https://instagram.com" target="_blank" rel="noreferrer">@breadnsugar.mx</a></p>
        <p><strong>Correo:</strong> <a href="mailto:hola@breadnsugar.mx">hola@breadnsugar.mx</a></p>
      </div>
      <div class="map-placeholder" aria-hidden="true">Mapa próximamente</div>
    </div>
  </section>
</BaseLayout>

<style>
.products {
  display: grid;
  gap: 2rem;
}

.product-grid {
  display: grid;
  gap: 2rem;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.product-card {
  border: 1px solid var(--border-color);
  border-radius: 1rem;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background-color: rgba(255, 247, 241, 0.6);
}

.product-image {
  background: linear-gradient(135deg, rgba(231, 183, 160, 0.35), rgba(255, 247, 241, 0.8));
  padding-bottom: 70%;
}

.product-info {
  padding: 1.5rem;
  display: grid;
  gap: 0.75rem;
}

.product-info h3 {
  margin: 0;
  font-size: 1.1rem;
}

.product-price {
  margin: 0;
  font-weight: 500;
  color: var(--heading-color);
}

.product-action {
  color: var(--accent-color);
  font-weight: 500;
}

.custom-orders {
  display: grid;
  gap: 2.5rem;
}

.custom-form {
  border: 1px solid var(--border-color);
  border-radius: 1.5rem;
  padding: 2.5rem;
  display: grid;
  gap: 1.5rem;
  background-color: rgba(255, 247, 241, 0.65);
}

.custom-form fieldset {
  border: 1px solid var(--border-color);
  border-radius: 1rem;
  padding: 1.5rem;
  display: grid;
  gap: 1rem;
}

.custom-form legend {
  padding: 0 0.5rem;
  font-weight: 500;
  color: var(--heading-color);
}

.custom-form label {
  display: grid;
  gap: 0.5rem;
  font-size: 0.95rem;
}

.custom-form input,
.custom-form textarea {
  border: 1px solid var(--border-color);
  border-radius: 0.75rem;
  padding: 0.75rem 1rem;
  font-family: 'Poppins', sans-serif;
  font-size: 0.95rem;
  background-color: #fff;
}

.custom-form input:focus,
.custom-form textarea:focus {
  outline: 2px solid rgba(231, 183, 160, 0.6);
}

.inline-fields {
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}

.upload-area {
  border: 2px dashed var(--border-color);
  border-radius: 1rem;
  padding: 1.5rem;
  text-align: center;
  color: var(--text-color);
  background-color: rgba(255, 247, 241, 0.4);
}

.contact {
  display: grid;
  gap: 2rem;
}

.contact-content {
  display: grid;
  gap: 2rem;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

.contact-info {
  display: grid;
  gap: 0.75rem;
}

.map-placeholder {
  border: 1px dashed var(--border-color);
  border-radius: 1rem;
  padding: 2.5rem;
  text-align: center;
  font-weight: 500;
  color: rgba(107, 90, 88, 0.75);
}

@media (max-width: 768px) {
  .custom-form {
    padding: 2rem;
  }
}

@media (max-width: 600px) {
  .custom-form {
    padding: 1.5rem;
  }
}
</style>
